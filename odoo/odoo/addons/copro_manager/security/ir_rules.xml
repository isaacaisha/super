<!-- /home/siisi/super/odoo/odoo/addons/copro_manager/security/ir_rules.xml -->

<odoo>
  <data noupdate="1">
    <!-- ======================= Supersyndic ======================= -->
    <!-- Rule: Supersyndic sees their own records -->
    <record id="rule_supersyndic_own_records" model="ir.rule">
      <field name="name">Supersyndic: Own Records</field>
      <field name="model_id" ref="model_copro_supersyndic"/>
      <field name="domain_force">[('user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_supersyndic'))]"/>
    </record>

    <!-- ======================= Syndic ======================= -->
    <!-- Rule: Syndic sees their own records -->
    <record id="rule_syndic_own_records" model="ir.rule">
      <field name="name">Syndic: Own Records</field>
      <field name="model_id" ref="model_copro_syndic"/>
      <field name="domain_force">[('user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_syndic'))]"/>
    </record>

    <!-- Rule: Supersyndic sees Syndics linked to them -->
    <record id="rule_syndic_supersyndic" model="ir.rule">
      <field name="name">Supersyndic: Managed Syndics</field>
      <field name="model_id" ref="model_copro_syndic"/>
      <field name="domain_force">[('supersyndic_id.user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_supersyndic'))]"/>
    </record>

    <!-- ======================= Residence ======================= -->
    <!-- Rule: Supersyndic sees Residences they manage -->
    <record id="rule_residence_supersyndic" model="ir.rule">
      <field name="name">Supersyndic: Managed Residences</field>
      <field name="model_id" ref="model_copro_residence"/>
      <field name="domain_force">[('supersyndic_ids.user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_supersyndic'))]"/>
    </record>

    <!-- Rule: Syndic sees Residences they manage -->
    <record id="rule_residence_syndic" model="ir.rule">
      <field name="name">Syndic: Managed Residences</field>
      <field name="model_id" ref="model_copro_residence"/>
      <field name="domain_force">[('syndic_ids.user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_syndic'))]"/>
    </record>

    <!-- Rule: Coproprietaire sees Residences they're associated -->
    <!--<record id="rule_residence_coproprietaire" model="ir.rule">
      <field name="name">Coproprietaire: Associated Residences</field>
      <field name="model_id" ref="model_copro_residence"/>
      <field name="domain_force">[('coproprietaire_ids.user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_coproprieataire'))]"/>
    </record>-->

    <!-- ======================= Apartment ======================= -->
    <!-- Rule: Supersyndic sees Apartments they manage -->
    <record id="rule_apartment_supersyndic" model="ir.rule">
      <field name="name">Supersyndic: Managed Apartments</field>
      <field name="model_id" ref="model_copro_apartment"/>
      <field name="domain_force">[('supersyndic_ids.user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_supersyndic'))]"/>
    </record>

    <!-- Rule: Syndic sees Apartments they manage -->
    <record id="rule_apartment_syndic" model="ir.rule">
      <field name="name">Syndic: Managed Apartments</field>
      <field name="model_id" ref="model_copro_apartment"/>
      <field name="domain_force">[('syndic_ids.user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_syndic'))]"/>
    </record>

    <!-- Rule: Coproprietaire sees Apartments they're associated -->
    <!--<record id="rule_apartment_coproprietaire" model="ir.rule">
      <field name="name">Coproprietaire: Associated Apartments</field>
      <field name="model_id" ref="model_copro_apartment"/>
      <field name="domain_force">[('user_id', '=', user.id)]</field>
      <field name="groups" eval="[(4, ref('copro_manager.group_coproprieataire'))]"/>
    </record>-->
  </data>
</odoo>
